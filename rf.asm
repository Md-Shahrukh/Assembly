		ORG		00H
		MOV		P3,#0FFH
X6:		CLR		A
		MOV		A,P1
		CJNE	A,#11111110B,X1
		ACALL	MOTOR1
		CLR		A
Q1:		MOV		A,P1
		CJNE	A,#0FFH,Q1
		SJMP	X6
X1:		CJNE	A,#11111101B,X2
		ACALL	MOTOR2
		CLR		A
Q2:		MOV		A,P1
		CJNE	A,#0FFH,Q2
		SJMP	X6
X2:		CJNE	A,#11111011B,X3
		ACALL	MOTOR3
		CLR		A
Q3:		MOV		A,P1
		CJNE	A,#0FFH,Q3
		SJMP	X6
X3:		CJNE	A,#11110111B,X6
		ACALL	RELAY
Q4:		MOV		A,P1
		CJNE	A,#0FFH,Q4
		SJMP	X6
		
MOTOR1:	MOV		P3,#11111110B
		RET
MOTOR2:	MOV		P3,#11111101B
		RET
MOTOR3:	MOV		P3,#11111100B
		RET
RELAY:	CPL		P3.2
		RET
		END