		ORG 00H
			MOV R0,#30H
			MOV R1,#13
				MOV A,#38H
				ACALL CMD
				ACALL DELAY
				MOV A,#0EH
				ACALL CMD
				ACALL DELAY
				MOV A,#01H
				ACALL CMD
				ACALL DELAY
				MOV A,#06H
				ACALL CMD
				ACALL DELAY
				MOV A,#80H
				ACALL CMD
				ACALL DELAY
		MOV TMOD,#20H
		MOV TH1,#-3
		SETB TR1
		MOV SCON,#50H
Q1:		ACALL D1
		MOV A,SBUF
		MOV SBUF,A
		MOV @R0,A
		INC R0
		DJNZ R1,Q1
		ACALL DAT
		SJMP $
DAT:	MOV R0,#30H
		MOV R1,#13
DAT1:	MOV A,@R0
		MOV P2,A
		SETB P0.0
		CLR P0.1
		SETB P0.2
		ACALL DELAY
		CLR P0.2
		CLR A
		INC R0
		DJNZ R1,DAT1
		RET
CMD: 	MOV P2,A
		CLR P0.0
		CLR P0.1
		SETB P0.2
		ACALL DELAY
		CLR P0.2
		RET
D1:		JNB RI,D1
		CLR RI
		RET
DELAY: 	MOV R2,#200
X1:		MOV R4,#200
X2:		DJNZ R4,X2
		DJNZ R2,X1
		RET
		END
		