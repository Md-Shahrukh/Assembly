DC1		BIT		P0.0
DC2		BIT		P0.1		
		ORG 00H
X6:		MOV P1,#11111111B
		MOV R1,#250
		ACALL DELAY
		
		JB P1.0,X1
X0:		CLR DC1
		SETB DC2
		JNB P1.3,X10
		JNB P1.2,X4
		JNB P1.1,X2
		SJMP X0
		
X1:		JB P1.1,X3
X2:		CLR DC2
		SETB DC1
		JNB P1.3,X11
		JNB P1.2,X4
		JNB P1.0,X0
		SJMP X2
		
X3:		JB P1.2,X10
X4:		CLR DC1
		CLR DC2
		SJMP X6
		
X10:	JB P1.3,X11
		NOP
		NOP
NK:     JNB P1.3, NK
H8:		JNB P1.0,H8
X5:		CLR DC1
		SETB DC2
		MOV R0,#200
		ACALL DELAY
		CLR DC2
		MOV R0,#50
		ACALL DELAY
		JNB P1.3,X7
		JNB P1.0,X0
		JNB P1.2,X4
		JNB P1.1,NK2
		SJMP X5
		
X7:		JNB P1.3,X7
H4:		JNB P1.0,H4
		CLR DC1
		SETB DC2
		MOV R0,#100
		ACALL DELAY
		CLR DC2
		MOV R0,#100
		ACALL DELAY
		JNB P1.0,X0
		JNB P1.1,X9
		JNB P1.2,X4
		JNB P1.4,H1
		SJMP X7
		
X11:	JB P1.3,X6
		NOP
		NOP
NK2:	JNB P1.3,NK2
H5:		JNB P1.1,H5
X8:		CLR DC2
		SETB DC1
		MOV R0,#200
		ACALL DELAY
		CLR DC1
		MOV R0,#50
		ACALL DELAY
		JNB P1.3,X9
		JNB P1.0,H8
		JNB P1.1,NK1
		JNB P1.2,X4
		SJMP X8
		
X9:		JNB P1.3,X9
H3:		JNB P1.1,H3
		CLR DC2
		SETB DC1
		MOV R0,#100
		ACALL DELAY
		CLR DC1
		MOV R0,#100
		ACALL DELAY
		JNB P1.0,X7
		JNB P1.1,NK1
		JNB P1.2,X14
		JNB P1.4,H2
		SJMP X9
		
H1:		JNB P1.4,H1
		CLR DC1
		SETB DC2
		MOV R0,#200
		ACALL DELAY
		CLR DC2
		MOV R0,#50
		ACALL DELAY
		JNB P1.0,X13
		JNB P1.1,NK1
		JNB P1.2,X14
		JNB P1.3,X15
		JNB P1.4,X13
		SJMP H1
		
H2:		JNB P1.4,H2
		CLR DC2
		SETB DC1
		MOV R0,#200
		ACALL DELAY
		CLR DC1
		MOV R0,#50
		ACALL DELAY
		JNB P1.0,X13
		JNB P1.1,NK1
		JNB P1.2,X14
		JNB P1.3,X16
		JNB P1.4,NK1
		SJMP H2
		
NK1:    LJMP X2
X12:	LJMP X6
X13:	LJMP X0
X14:	LJMP X4
X15:	LJMP X10	
X16:	LJMP X11

DELAY:	SJMP Q10
Q10:	DJNZ R0,Q10
		RET
		END